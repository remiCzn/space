<div>
  <mat-card class="mt-5">
    <div class="d-flex flex-row-reverse">
      <button mat-icon-button (click)="changeMode()">
        <mat-icon>{{ editMode ? "close" : "edit" }}</mat-icon>
      </button>
    </div>
    <div class="user-card" *ngIf="!editMode; else editor">
      <img
        src="https://material.angular.io/assets/img/examples/shiba1.jpg"
        alt="avatar"
        class="avatar"
      />
      <h1 class="pt-2">{{ username.toUpperCase() }}</h1>
      <h2 style="color: gray">{{ firstname }} {{ lastname }}</h2>
    </div>
    <ng-template #editor>
      <div class="user-card">
        <img
          src="https://material.angular.io/assets/img/examples/shiba1.jpg"
          alt="avatar"
          class="avatar"
        />
        <form
          [formGroup]="editUserForm"
          (ngSubmit)="save()"
          class="d-flex flex-column align-items-center py-3"
          #editForm="ngForm"
        >
          <mat-form-field>
            <mat-label>Username</mat-label>
            <input
              matInput
              formControlName="Username"
              placeholder="Enter your username"
            />
          </mat-form-field>
          <div class="d-flex">
            <mat-form-field class="px-2">
              <mat-label>Firstname</mat-label>
              <input
                matInput
                formControlName="firstname"
                placeholder="Enter your Firstname"
              />
            </mat-form-field>
            <mat-form-field class="px-2">
              <mat-label>Lastname</mat-label>
              <input
                matInput
                formControlName="lastname"
                placeholder="Enter your Lastname"
              />
            </mat-form-field>
          </div>
        </form>
        <button
          mat-raised-button
          type="submit"
          class="align-self-end"
          (click)="editForm.ngSubmit.emit()"
          [disabled]="!editForm.form.valid"
          color="primary"
        >
          Save
        </button>
      </div>
    </ng-template>
  </mat-card>
</div>
