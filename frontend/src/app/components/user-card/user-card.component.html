<mat-card style="height: 100%">
  <div class="d-flex flex-row-reverse">
    <button mat-icon-button (click)="changeMode()">
      <mat-icon>{{ editMode ? "close" : "edit" }}</mat-icon>
    </button>
  </div>
  <div class="user-card" *ngIf="!editMode; else editor">
    <img
      src="https://material.angular.io/assets/img/examples/shiba1.jpg"
      alt="avatar"
      class="avatar"
    />
    <h1 class="pt-2">{{ username.toUpperCase() }}</h1>
  </div>
  <ng-template #editor>
    <div class="user-card">
      <img
        src="https://material.angular.io/assets/img/examples/shiba1.jpg"
        alt="avatar"
        class="avatar"
      />
      <form
        [formGroup]="editUserForm"
        (ngSubmit)="save()"
        class="d-flex flex-column align-items-center py-3"
        #editForm="ngForm"
      >
        <mat-form-field>
          <div>
            <mat-toolbar>
              <!-- Display files names -->
              <input matInput readonly />

              <!-- Browse Button -->
              <button mat-flat-button color="primary">Browse File</button>
            </mat-toolbar>

            <!-- Fetch selected filed on change -->
            <input
              type="file"
              (change)="selectFile($event)"
              class="uploadFile"
            />
          </div>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Username</mat-label>
          <input
            matInput
            formControlName="Username"
            placeholder="Enter your username"
          />
        </mat-form-field>
      </form>
      <button
        mat-raised-button
        type="submit"
        class="align-self-end"
        (click)="upload()"
        [disabled]="!editForm.form.valid"
        color="primary"
      >
        Save
      </button>
    </div>
  </ng-template>
</mat-card>
